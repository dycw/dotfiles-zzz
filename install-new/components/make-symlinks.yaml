- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true

- defaults:
    link:
      create: true
      relink: true

- shell:
    - git submodule update --init
    - if ! [ -d "$HOME/work" ]; then mkdir -p "$HOME/work"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/duckdns" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/duckdns"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/redis" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/redis"; fi

- link:
    ~/.config/direnv: ../../direnv
    ~/.config/fd: ../../fd
    ~/.config/git: ../../git
    ~/.config/luacheck/.luacheckrc: ../../lua-linters/luacheck/luacheckrc
    ~/.config/lvim: ../../lvim
    ~/.config/ripgreprc: ../../ripgrep/ripgreprc
    ~/.config/sh: ../../sh
    ~/.config/starship.toml: ../../starship/starship.toml
    ~/.config/stylua/stylua.toml: ../../lua-linters/stylua/stylua.toml
    ~/.config/tmux/tmux.conf.local: ../../tmux/tmux.conf.local
    ~/.config/tmux/tmux.conf: ../../tmux/oh-my-tmux/.tmux.conf
    ~/.inputrc: ../../input/inputrc
    ~/.ipython/profile_default/ipython_config.py: ../../ipython/ipython_config.py
    ~/.ipython/profile_default/ipython_kernel_config.py: ../../ipython/ipython_kernel_config.py
    ~/.ipython/profile_default/startup: ../../ipython/startup
    ~/.jupyter/jupyter_server_config.py: ../../jupyter/jupyter_server_config.py
    ~/.jupyter/lab/user-settings: ../../jupyter/user-settings
    ~/.local/share/fonts: ../../fonts
    ~/.vim/pack/tpope/start/sensible: ../../vim/vim-sensible
    ~/.vim/vimrc: ../../vim/vimrc
