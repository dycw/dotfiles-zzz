- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true

- defaults:
    link:
      create: true
      relink: true

- shell:
    - git submodule update --init
    - if ! [ -d "$HOME/work" ]; then mkdir -p "$HOME/work"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/bash" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/bash"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/duckdns" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/duckdns"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/redis" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/redis"; fi
    - if ! [ -d "${XDG_CACHE_HOME:-$HOME/.cache}/zsh" ]; then mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/zsh"; fi
    - if [ -f "$HOME/.bash_profile" ] && ! [ -L "$HOME/.bash_profile" ]; then rm "$HOME/.bash_profile"; fi
    - if [ -f "$HOME/.bashrc" ] && ! [ -L "$HOME/.bashrc" ]; then rm "$HOME/.bashrc"; fi
    - if [ -f "$HOME/.zprofile" ] && ! [ -L "$HOME/.zprofile" ]; then rm "$HOME/.zprofile"; fi
    - if [ -f "$HOME/.zshrc" ] && ! [ -L "$HOME/.zshrc" ]; then rm "$HOME/.zshrc"; fi

- link:
    ~/.bash_profile: ../../bash/bash_profile
    ~/.bashrc: ../../bash/bashrc
    ~/.config/direnv: ../../direnv
    ~/.config/fd: ../../fd
    ~/.config/git: ../../git
    ~/.config/luacheck/.luacheckrc: ../../lua-linters/luacheck/luacheckrc
    ~/.config/lvim: ../../lvim
    ~/.config/ripgreprc: ../../ripgrep/ripgreprc
    ~/.config/sh: ../../sh
    ~/.config/starship.toml: ../../starship/starship.toml
    ~/.config/stylua/stylua.toml: ../../lua-linters/stylua/stylua.toml
    ~/.config/tmux/tmux.conf.local: ../../tmux/tmux.conf.local
    ~/.config/tmux/tmux.conf: ../../tmux/oh-my-tmux/.tmux.conf
    ~/.inputrc: ../../input/inputrc
    ~/.ipython/profile_default/ipython_config.py: ../../ipython/ipython_config.py
    ~/.ipython/profile_default/ipython_kernel_config.py: ../../ipython/ipython_kernel_config.py
    ~/.ipython/profile_default/startup: ../../ipython/startup
    ~/.jupyter/jupyter_server_config.py: ../../jupyter/jupyter_server_config.py
    ~/.jupyter/lab/user-settings: ../../jupyter/user-settings
    ~/.local/share/fonts: ../../fonts
    ~/.vim/pack/tpope/start/sensible: ../../vim/vim-sensible
    ~/.vim/vimrc: ../../vim/vimrc
    ~/.zprofile: ../../zsh/zprofile
    ~/.zshrc: ../../zsh/zshrc
