from __future__ import annotations

from contextlib import suppress

with suppress(ModuleNotFoundError):
    import more_itertools  # noqa: F401
    from more_itertools import (  # noqa: F401
        AbortThread,
        SequenceView,
        UnequalIterablesError,
        adjacent,
        all_equal,
        all_unique,
        always_iterable,
        always_reversible,
        batched,
        before_and_after,
        bucket,
        callback_iter,
        chunked,
        chunked_even,
        circular_shifts,
        classify_unique,
        collapse,
        combination_index,
        combination_with_replacement_index,
        consecutive_groups,
        constrained_batches,
        consume,
        consumer,
        convolve,
        count_cycle,
        countable,
        difference,
        distinct_combinations,
        distinct_permutations,
        distribute,
        divide,
        dotproduct,
        duplicates_everseen,
        duplicates_justseen,
        exactly_n,
        factor,
        filter_except,
        filter_map,
        first,
        first_true,
        flatten,
        gray_product,
        groupby_transform,
        grouper,
        ichunked,
        iequals,
        ilen,
        interleave,
        interleave_evenly,
        interleave_longest,
        intersperse,
        is_sorted,
        islice_extended,
        iter_except,
        iter_index,
        iter_suppress,
        iterate,
        last,
        locate,
        longest_common_prefix,
        lstrip,
        make_decorator,
        map_except,
        map_if,
        map_reduce,
        mark_ends,
        matmul,
        minmax,
        ncycles,
        nth,
        nth_combination,
        nth_combination_with_replacement,
        nth_or_last,
        nth_permutation,
        nth_product,
        numeric_range,
        only,
        outer_product,
        pad_none,
        padded,
        padnone,
        pairwise,
        partial_product,
        partition,
        partitions,
        permutation_index,
        polynomial_derivative,
        polynomial_eval,
        polynomial_from_roots,
        powerset,
        prepend,
        product_index,
        quantify,
        raise_,
        random_combination,
        random_combination_with_replacement,
        random_permutation,
        random_product,
        repeat_each,
        repeat_last,
        repeatfunc,
        reshape,
        rlocate,
        roundrobin,
        rstrip,
        run_length,
        sample,
        seekable,
        set_partitions,
        side_effect,
        sieve,
        sliced,
        sliding_window,
        sort_together,
        split_after,
        split_at,
        split_before,
        split_into,
        split_when,
        spy,
        stagger,
        strictly_n,
        strip,
        subslices,
        substrings,
        substrings_indexes,
        sum_of_squares,
        tabulate,
        tail,
        takewhile_inclusive,
        time_limited,
        totient,
        triplewise,
        unique_everseen,
        unique_in_window,
        unique_justseen,
        unique_to_each,
        unzip,
        value_chain,
        windowed,
        with_iter,
        zip_broadcast,
        zip_equal,
        zip_offset,
    )

    try:
        import tabulate as _tabulate  # noqa: F401
    except ModuleNotFoundError:
        from more_itertools import (  # noqa: F401
            tabulate,
        )

    try:
        import utilities as _utilities  # noqa: F401
    except ModuleNotFoundError:
        from more_itertools import (  # noqa: F401
            always_iterable,
            one,
            peekable,
            take,
            transpose,
            windowed_complete,
        )
